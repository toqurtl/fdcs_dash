# 🚀 고급 테이블 시스템 사용 가이드

AdminLTE + Flask 대시보드에 **페이지네이션, 검색, 정렬**을 지원하는 대용량 데이터 테이블 시스템이 추가되었습니다!

## 🎯 주요 기능

### ✅ **완성된 기능들**
- **대용량 데이터**: 5000건+ 주문 데이터, 1000명+ 고객 데이터
- **페이지네이션**: 25/50/100건씩 페이지 단위 조회  
- **검색 기능**: 컬럼별 LIKE 검색 지원
- **정렬 기능**: 컬럼 클릭으로 ASC/DESC 정렬
- **성능 최적화**: LIMIT/OFFSET을 활용한 효율적 조회
- **실시간 통계**: 총 데이터 수, 페이지 정보 표시

### 📊 **지원하는 테이블**
1. **주문 현황** (`orders_view`): 고객-상품-주문 JOIN 데이터
2. **고객 관리** (`customers`): 고객 정보 및 지역별 분포  
3. **상품 목록** (`products`): 상품 정보 및 재고 현황

## 🚀 **사용 방법**

### 1. **대용량 샘플 데이터 생성**
```bash
cd dashboard_project
python3 generate_sample_data.py
```
- 고객 1000명, 상품 100개, 주문 5000건 생성
- 기존 데이터는 유지하고 추가 생성

### 2. **데이터베이스 재초기화 (선택사항)**
```bash
python3 init_database.py  # 기본 구조 + 새 업무 영역
```

### 3. **서버 실행 및 접속**
```bash
python3 run.py
# http://localhost:5000 접속
# admin / admin123으로 로그인
```

### 4. **고급 테이블 접속**
1. 사이드바에서 **"데이터 분석"** 클릭
2. **"데이터 조회"** 메뉴 클릭  
3. 원하는 테이블 카드 선택

## 💡 **테이블 시스템 사용법**

### 🔍 **검색 기능**
1. **검색 컬럼 선택**: 드롭다운에서 검색할 컬럼 선택
2. **검색어 입력**: 텍스트 입력 (부분 일치 검색)
3. **검색 실행**: 검색 버튼 클릭 또는 Enter 키
4. **초기화**: 초기화 버튼으로 검색 조건 제거

### 📄 **페이지네이션**
- **페이지당 개수**: 25/50/100건 선택 가능
- **페이지 이동**: 이전/다음, 페이지 번호 직접 클릭
- **자동 페이지**: 검색/정렬 시 1페이지로 자동 이동

### ⬆️⬇️ **정렬 기능**  
- **컬럼 헤더 클릭**: 정렬 가능한 컬럼 클릭
- **정렬 방향**: ASC → DESC → ASC 순환
- **정렬 표시**: 화살표 아이콘으로 방향 표시

### 📊 **실시간 통계**
- **총 데이터**: 전체 레코드 수
- **총 페이지**: 전체 페이지 수
- **현재 페이지**: 현재 보고 있는 페이지
- **표시 중**: 현재 페이지의 데이터 범위

## 🎨 **UI 특징**

### 🃏 **테이블 선택 카드**
- **주문 현황**: 장바구니 아이콘, 파란색 배지
- **고객 관리**: 사용자 아이콘, 초록색 배지  
- **상품 목록**: 박스 아이콘, 노란색 배지
- **실시간 카운트**: 각 테이블의 총 데이터 수 표시

### 🎯 **데이터 타입별 포맷팅**
- **통화**: 1,000,000원 형식
- **숫자**: 1,000 형식 (천 단위 구분)
- **날짜**: YYYY-MM-DD 형식
- **상태**: 색상별 배지 (대기중, 처리중, 배송완료 등)
- **이메일**: 클릭 가능한 mailto 링크

### 🌈 **상태별 배지 색상**
- **대기중** (pending): 노란색
- **처리중** (processing): 파란색  
- **배송중** (shipped): 보라색
- **배송완료** (delivered): 초록색
- **취소됨** (cancelled): 빨간색
- **반품됨** (returned): 회색

## ⚙️ **기술적 특징**

### 🔧 **백엔드 (Flask)**
- **Repository Pattern**: 데이터 접근 계층 분리
- **Service Layer**: 비즈니스 로직 캡슐화
- **SQL 최적화**: LIMIT/OFFSET으로 성능 보장
- **JOIN 쿼리**: orders_view에서 관련 테이블 조인

### 🎨 **프론트엔드 (JavaScript)**
- **클래스 기반**: AdvancedTable ES6 클래스
- **상태 관리**: 페이지, 검색, 정렬 상태 통합 관리
- **이벤트 기반**: 사용자 액션에 따른 동적 업데이트
- **AJAX 통신**: 비동기 데이터 로딩

### 🗄️ **데이터베이스 (SQLite)**
- **복합 쿼리**: JOIN을 활용한 다중 테이블 조회
- **인덱스 활용**: 기본키와 외래키 인덱스 사용
- **LIKE 검색**: 부분 일치 검색 지원
- **ORDER BY**: 다양한 컬럼별 정렬

## 📈 **성능 최적화**

### ⚡ **페이지네이션 최적화**
- **LIMIT/OFFSET**: 필요한 데이터만 조회
- **COUNT 분리**: 전체 개수는 별도 쿼리로 효율화
- **페이지당 제한**: 최대 100건으로 성능 보호

### 🎯 **검색 최적화**
- **LIKE 인덱스**: 검색 가능한 컬럼에 인덱스 활용
- **파라미터 바인딩**: SQL 인젝션 방지 및 성능 향상
- **검색 조건 최소화**: 필요한 경우에만 WHERE 절 추가

## 🚀 **확장 가능성**

### 🔮 **추가 구현 가능한 기능들**
1. **고급 필터**: 날짜 범위, 숫자 범위 필터
2. **엑셀 내보내기**: CSV/XLSX 다운로드
3. **실시간 업데이트**: WebSocket으로 자동 새로고침
4. **컬럼 설정**: 표시할 컬럼 선택/순서 변경
5. **저장된 검색**: 자주 사용하는 검색 조건 저장

### 📊 **새로운 테이블 추가 방법**
1. **TableService에 쿼리 추가**
```python
def _get_base_query(self, table_name):
    if table_name == 'new_table':
        return "SELECT * FROM new_table"
```

2. **컬럼 정의 추가**
```python
def _get_table_columns(self, table_name):
    if table_name == 'new_table':
        return [{'key': 'id', 'label': 'ID', 'type': 'number', ...}]
```

3. **UI에 카드 추가**
```html
<div class="card table-card" data-table="new_table">
    <div class="card-body text-center">
        <i class="fas fa-icon fa-3x text-info mb-3"></i>
        <h5>새 테이블</h5>
    </div>
</div>
```

## 🎉 **완성된 시스템 활용**

이제 **완전한 대용량 데이터 조회 시스템**이 준비되었습니다!

- ✅ **실무 활용**: 실제 비즈니스 데이터 분석에 사용 가능
- ✅ **학습 도구**: DOM 조작, AJAX, 페이지네이션 기법 학습
- ✅ **포트폴리오**: 고급 웹 개발 기술 시연
- ✅ **확장 기반**: 더 복잡한 기능들의 출발점

**🎯 대용량 데이터를 효율적으로 다루는 모던 웹 애플리케이션의 핵심 기능을 모두 경험해보세요!** 🚀